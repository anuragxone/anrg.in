---

---

<header class="flex items-center justify-between mb-16">
  <a href="/" class="group flex items-center gap-3">
    <div
      class="w-10 h-10 rounded-lg bg-bg-card flex items-center justify-center border border-fg-dim/20 group-hover:border-accent-green/50 transition-colors"
    >
      <span class="font-mono font-bold text-accent-green text-lg">~/</span>
    </div>
    <div class="flex flex-col">
      <span
        class="font-bold text-lg leading-tight tracking-tight group-hover:text-accent-green transition-colors"
        >anrg.in</span
      >
      <!-- <span class="text-xs font-mono text-fg-muted">minimalist</span> -->
    </div>
  </a>

  <div class="flex items-center gap-6">
    <div
      class="relative flex items-center bg-ef-l-bg2/30 dark:bg-ef-d-bg2/30 rounded-full p-1 border border-ef-l-bg_dim/20 dark:border-ef-d-bg_dim/20"
    >
      <div
        id="theme-slider"
        class="absolute top-1 left-1 w-7 h-7 rounded-full bg-ef-l-bg0 dark:bg-ef-d-bg0 shadow-sm transition-transform duration-300 ease-out"
      >
      </div>

      <button
        id="theme-light"
        aria-label="Light Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-sun-icon lucide-sun"
          ><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path
            d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path
            d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path
            d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path
            d="m19.07 4.93-1.41 1.41"></path></svg
        >
      </button>

      <button
        id="theme-dark"
        aria-label="Dark Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-moon-icon lucide-moon"
          ><path
            d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"
          ></path></svg
        >
      </button>
      <button
        id="theme-system"
        aria-label="System Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-sun-moon-icon lucide-sun-moon"
          ><path d="M12 2v2"></path><path
            d="M14.837 16.385a6 6 0 1 1-7.223-7.222c.624-.147.97.66.715 1.248a4 4 0 0 0 5.26 5.259c.589-.255 1.396.09 1.248.715"
          ></path><path d="M16 12a4 4 0 0 0-4-4"></path><path
            d="m19 5-1.256 1.256"></path><path d="M20 12h2"></path></svg
        >
      </button>
    </div>
  </div>
</header>

<script>
  const themes = ["light", "dark", "system"];
  const slider = document.getElementById("theme-slider");

  function setTheme(theme) {
    localStorage.setItem("theme", theme);

    // Update Slider Position
    const index = themes.indexOf(theme);
    if (slider) {
      slider.style.transform = `translateX(${index * 100}%)`;
    }

    // Update Theme Class
    if (theme === "dark") {
      document.documentElement.classList.add("dark");
    } else if (theme === "light") {
      document.documentElement.classList.remove("dark");
    } else {
      // System
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    }
  }

  // Initial Load
  const stored = localStorage.getItem("theme") || "system";
  setTheme(stored);

  // Click Listeners
  document
    .getElementById("theme-light")
    ?.addEventListener("click", () => setTheme("light"));
  document
    .getElementById("theme-system")
    ?.addEventListener("click", () => setTheme("system"));
  document
    .getElementById("theme-dark")
    ?.addEventListener("click", () => setTheme("dark"));

  // System Change Listener
  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", (e) => {
      if (localStorage.getItem("theme") === "system") {
        if (e.matches) {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      }
    });
</script>
