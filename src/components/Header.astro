---

---

<header class="flex items-center justify-between mb-16">
  <a href="/" class="group flex items-center gap-3">
    <div
      class="w-10 h-10 rounded-lg bg-bg-card flex items-center justify-center border border-fg-dim/20 group-hover:border-accent-green/50 transition-colors"
    >
      <span class="font-mono font-bold text-accent-green text-lg">~/</span>
    </div>
    <div class="flex flex-col">
      <span
        class="font-bold text-lg leading-tight tracking-tight group-hover:text-accent-green transition-colors"
        >anrg.in</span
      >
      <!-- <span class="text-xs font-mono text-fg-muted">minimalist</span> -->
    </div>
  </a>

  <div class="flex items-center gap-6">
    <div
      class="relative flex items-center bg-ef-l-bg2/30 dark:bg-ef-d-bg2/30 rounded-full p-1 border border-ef-l-bg_dim/20 dark:border-ef-d-bg_dim/20"
    >
      <div
        id="theme-slider"
        class="absolute top-1 left-1 w-7 h-7 rounded-full bg-ef-l-bg0 dark:bg-ef-d-bg0 shadow-sm transition-transform duration-300 ease-out"
      >
      </div>

      <button
        id="theme-light"
        aria-label="Light Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
          ></path>
        </svg>
      </button>
      <button
        id="theme-system"
        aria-label="System Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
          ></path>
        </svg>
      </button>
      <button
        id="theme-dark"
        aria-label="Dark Theme"
        class="relative z-10 w-7 h-7 flex items-center justify-center text-ef-l-grey1 dark:text-ef-d-grey1 hover:text-ef-l-green dark:hover:text-ef-d-green transition-colors rounded-full cursor-pointer"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
          ></path>
        </svg>
      </button>
    </div>
  </div>
</header>

<script>
  const themes = ["light", "system", "dark"];
  const slider = document.getElementById("theme-slider");

  function setTheme(theme) {
    localStorage.setItem("theme", theme);

    // Update Slider Position
    const index = themes.indexOf(theme);
    if (slider) {
      slider.style.transform = `translateX(${index * 100}%)`;
    }

    // Update Theme Class
    if (theme === "dark") {
      document.documentElement.classList.add("dark");
    } else if (theme === "light") {
      document.documentElement.classList.remove("dark");
    } else {
      // System
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    }
  }

  // Initial Load
  const stored = localStorage.getItem("theme") || "system";
  setTheme(stored);

  // Click Listeners
  document
    .getElementById("theme-light")
    ?.addEventListener("click", () => setTheme("light"));
  document
    .getElementById("theme-system")
    ?.addEventListener("click", () => setTheme("system"));
  document
    .getElementById("theme-dark")
    ?.addEventListener("click", () => setTheme("dark"));

  // System Change Listener
  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", (e) => {
      if (localStorage.getItem("theme") === "system") {
        if (e.matches) {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      }
    });
</script>
